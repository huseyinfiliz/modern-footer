{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@huseyinfiliz/modern-footer/webpack/bootstrap","webpack://@huseyinfiliz/modern-footer/webpack/runtime/compat get default export","webpack://@huseyinfiliz/modern-footer/webpack/runtime/define property getters","webpack://@huseyinfiliz/modern-footer/webpack/runtime/hasOwnProperty shorthand","webpack://@huseyinfiliz/modern-footer/external root \"flarum.core.compat['forum/app']\"","webpack://@huseyinfiliz/modern-footer/external root \"flarum.core.compat['common/extend']\"","webpack://@huseyinfiliz/modern-footer/external root \"flarum.core.compat['forum/ForumApplication']\"","webpack://@huseyinfiliz/modern-footer/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@huseyinfiliz/modern-footer/external root \"flarum.core.compat['common/Component']\"","webpack://@huseyinfiliz/modern-footer/./src/forum/components/CustomFooter.js","webpack://@huseyinfiliz/modern-footer/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@huseyinfiliz/modern-footer/./src/forum/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/ForumApplication'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\n\nexport default class CustomFooter extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.open = false;\n\n    // Dinamik JavaScript'i eklemek\n    const js = app.forum.attribute('modern-footer.js');\n    if (js) {\n      const sanitizedJS = js.trim();\n      if (!sanitizedJS.includes('<script>')) {\n        $('body').append(`<script>${sanitizedJS}</script>`);\n      } else {\n        console.warn('Potentially harmful JavaScript was not executed.');\n      }\n    }\n  }\n\n  view() {\n    const currentYear = new Date().getFullYear();\n    const currentDomain = window.location.hostname; // Mevcut domain\n\n    return (\n      <footer>\n        <div class=\"row\">\n          <div class=\"foo-left\">\n            <h3>\n              {m.trust(\n                app.forum.attribute('modern-footer.title-1') ||\n                  window.location.hostname // Boşsa site domaini kullanılsın\n              )}\n            </h3>\n            <p>\n              {app.forum.attribute('modern-footer.copyright') ||\n                `© ${currentYear}, All Rights Reserved`}\n            </p>\n            <button class=\"Button Button--primary\">\n              <span class=\"Button-label\">\n                <a\n                  href={app.forum.attribute('modern-footer.contact-link') || '#contact'}\n                >\n                  {app.forum.attribute('modern-footer.contact') || 'Contact'}\n                </a>\n              </span>\n            </button>\n          </div>\n\n          <div class=\"foo-mid\">\n            <h3>{app.forum.attribute('modern-footer.title-2') || 'Links'}</h3>\n            <ul>\n              {[1, 2, 3, 4].map((i) => {\n                const link = app.forum.attribute(`modern-footer.link-${i}`);\n                const text = app.forum.attribute(`modern-footer.text-${i}`);\n                const isExternalLink = link && !this.isInternalLink(link); // İç ve dış link karşılaştırması\n                return link && text ? (\n                  <li>\n                    <a\n                      href={link || '#'}\n                      target={isExternalLink ? '_blank' : undefined} // Sadece dış linkler için target=\"_blank\"\n                    >\n                      {text}\n                    </a>\n                  </li>\n                ) : null; // Eğer URL veya metin boşsa render etme\n              })}\n            </ul>\n          </div>\n\n          <div class=\"foo-mid\">\n            <h3>{app.forum.attribute('modern-footer.title-3') || 'Links'}</h3>\n            <ul>\n              {[5, 6, 7, 8].map((i) => {\n                const link = app.forum.attribute(`modern-footer.link-${i}`);\n                const text = app.forum.attribute(`modern-footer.text-${i}`);\n                const isExternalLink = link && !this.isInternalLink(link); // İç ve dış link karşılaştırması\n                return link && text ? (\n                  <li>\n                    <a\n                      href={link || '#'}\n                      target={isExternalLink ? '_blank' : undefined} // Sadece dış linkler için target=\"_blank\"\n                    >\n                      {text}\n                    </a>\n                  </li>\n                ) : null; // Eğer URL veya metin boşsa render etme\n              })}\n            </ul>\n          </div>\n\n          <div class=\"foo-right\">\n            <h3>\n              {app.forum.attribute('modern-footer.title-4') || 'About'}\n            </h3>\n            <p>\n              {m.trust(\n                app.forum.attribute('modern-footer.right-text') || ''\n              )}\n            </p>\n          </div>\n        </div>\n      </footer>\n    );\n  }\n\n  // İç bağlantıyı kontrol eden fonksiyon\n  isInternalLink(link) {\n    // Eğer bağlantı bir fragment (parça) ile başlıyorsa (# ile) iç linktir\n    if (link.startsWith('#')) {\n      return true;\n    }\n\n    // URL'yi oluşturuyoruz\n    try {\n      const url = new URL(link, window.location.origin);\n      const currentHost = this.getRootDomain(window.location.hostname); // Kök domain\n      const linkHost = this.getRootDomain(url.hostname); // Bağlantıdaki domain\n\n      return currentHost === linkHost; // İç linkse true döner\n    } catch (e) {\n      return false; // Hatalı linklerde false döner\n    }\n  }\n\n  // Kök domain'i (root domain) döndüren yardımcı fonksiyon\n  getRootDomain(hostname) {\n    const parts = hostname.split('.');\n    const domain = parts.slice(parts.length - 2).join('.'); // Son iki kısmı birleştirir\n    return domain;\n  }\n}\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport ForumApplication from 'flarum/forum/ForumApplication';\n\nimport CustomFooter from './components/CustomFooter';\n\napp.initializers.add('huseyinfiliz-modern-footer', () => {\n  extend(ForumApplication.prototype, 'mount', () => {\n    const footer = document.createElement('footer');\n\n    m.mount(document.body.appendChild(footer), CustomFooter);\n  });\n});"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","core","compat","_setPrototypeOf","p","setPrototypeOf","__proto__","CustomFooter","_Component","subClass","superClass","apply","arguments","create","constructor","_proto","oninit","vnode","this","open","js","app","attribute","sanitizedJS","trim","includes","console","warn","$","append","view","_this","currentYear","Date","getFullYear","window","location","hostname","m","class","trust","href","map","i","link","text","isExternalLink","isInternalLink","target","undefined","startsWith","url","URL","origin","getRootDomain","e","parts","split","slice","length","join","Component","add","extend","ForumApplication","footer","document","createElement","mount","body","appendChild"],"sourceRoot":""}
