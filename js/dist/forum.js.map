{"version":3,"file":"forum.js","mappings":"MACA,IAAIA,EAAsB,CCA1BA,EAAyBC,IACxB,IAAIC,EAASD,GAAUA,EAAOE,WAC7B,IAAOF,EAAiB,QACxB,IAAM,EAEP,OADAD,EAAoBI,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,GCLRF,EAAwB,CAACM,EAASC,KACjC,IAAI,IAAIC,KAAOD,EACXP,EAAoBS,EAAEF,EAAYC,KAASR,EAAoBS,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3ER,EAAwB,CAACc,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,I,mBCAlF,MAAM,EAA+BI,OAAOC,IAAIP,IAAI,OAAQ,a,aCA5D,MAAM,EAA+BM,OAAOC,IAAIP,IAAI,OAAQ,iBCAtD,EAA+BM,OAAOC,IAAIP,IAAI,OAAQ,0B,aCA5D,MAAM,EAA+BM,OAAOC,IAAIP,IAAI,OAAQ,oB,aCE7C,MAAMQ,UAAsB,KACzC,IAAAC,GAcE,MAbe,CAAC,CACdC,KAAM,UAAUC,UAAU,yBAC1BC,KAAM,UAAUD,UAAU,+BACzB,CACDD,KAAM,UAAUC,UAAU,2BAC1BC,KAAM,UAAUD,UAAU,iCACzB,CACDD,KAAM,UAAUC,UAAU,2BAC1BC,KAAM,UAAUD,UAAU,iCACzB,CACDD,KAAM,UAAUC,UAAU,2BAC1BC,KAAM,UAAUD,UAAU,kCAEdE,OAAOC,GAASA,EAAMJ,MAAQI,EAAMF,MAAMG,IAAID,IAC1D,MAAMJ,EAAOI,EAAMJ,KAAKM,WAAW,MAAQF,EAAMJ,KAAO,cAClDE,EAAOE,EAAMF,KACnB,OAAOK,EAAE,IAAK,CACZC,KAAMN,EACNO,OAAQC,KAAKC,eAAeT,GAAQ,cAAWU,EAC/C3B,IAAKiB,GACJK,EAAE,SAAU,CACbM,MAAO,wBACNN,EAAE,OAAQ,CACXM,MAAO,gBACNN,EAAE,IAAK,CACRM,MAAOb,QAGb,CACA,cAAAW,CAAeT,GACb,IACE,MAAMY,EAAM,IAAIC,IAAIb,EAAMc,OAAOC,SAASC,QAC1C,OAAOR,KAAKS,kBAAkBH,OAAOC,SAASG,YAAcV,KAAKS,kBAAkBL,EAAIM,SACzF,CAAE,MAAOC,GACP,OAAO,CACT,CACF,CACA,iBAAAF,CAAkBC,GAChB,OAAOA,EAASE,QAAQ,SAAU,GACpC,EAEF1B,OAAOC,IAAI0B,IAAI,6BAA8B,iCAAkCzB,GC1ChE,MAAM0B,UAAkB,KACrC,IAAAzB,GACE,IAAI0B,EACJ,MAAMC,EAAwF,OAAxED,EAAuB,UAAUxB,UAAU,+BAAoC,EAASwB,EAAqBE,OAC7HC,EAAY,UAAU3B,UAAU,4BACtC,OAAOM,EAAE,MAAO,CACdM,MAAO,YACNN,EAAE,MAAO,KAAMmB,EAAeA,EAAapB,WAAW,QAAUC,EAAE,KAAM,KAAMA,EAAE,MAAO,CACxFsB,IAAKH,EACLI,IAAK,iBACDvB,EAAE,KAAM,KAAMA,EAAEwB,MAAML,IAAiB,KAAME,GAAarB,EAAE,IAAK,KAAMqB,GAAYrB,EAAET,EAAe,OAC5G,EAEFF,OAAOC,IAAI0B,IAAI,6BAA8B,6BAA8BC,GCd5D,MAAMQ,UAAmB,KACtC,IAAAjC,CAAKkC,GACH,MAAM,MACJC,EAAK,MACLC,EAAK,IACLC,EAAG,UACHC,GACEJ,EAAMK,MACJC,EAAQ7B,KAAK8B,cAAcL,EAAOC,GACxC,OAAO7B,EAAE,MAAO,CACdM,MAAO,WACNN,EAAE,MAAO,KAAMA,EAAE,KAAM,KAAMA,EAAE,IAAK,CACrCM,MAAOwB,IACL,IAAKH,GAAQ3B,EAAE,KAAM,KAAMgC,IACjC,CACA,aAAAC,CAAcL,EAAOC,GACnB,MAAMG,EAAQ,GACd,IAAK,IAAIE,EAAIN,EAAOM,GAAKL,EAAKK,IAAK,CACjC,MAAMvC,EAAO,UAAUD,UAAU,sBAAsByC,OAAOD,IACxDE,EAAO,UAAU1C,UAAU,sBAAsByC,OAAOD,IAC1DvC,GAAQyC,GACVJ,EAAMK,KAAKrC,EAAE,KAAM,CACjBtB,IAAKiB,GACJK,EAAE,IAAK,CACRC,KAAMN,EACNO,OAAQC,KAAKC,eAAeT,GAAQ,cAAWU,GAC9C+B,IAEP,CACA,OAAOJ,CACT,CACA,cAAA5B,CAAeT,GACb,IACE,MAAMY,EAAM,IAAIC,IAAIb,EAAMc,OAAOC,SAASC,QAC1C,OAAOR,KAAKS,kBAAkBH,OAAOC,SAASG,YAAcV,KAAKS,kBAAkBL,EAAIM,SACzF,CAAE,MAAOC,GACP,OAAO,CACT,CACF,CACA,iBAAAF,CAAkBC,GAChB,OAAOA,EAASE,QAAQ,SAAU,GACpC,EAEF1B,OAAOC,IAAI0B,IAAI,6BAA8B,8BAA+BS,GC3C7D,MAAMa,UAAmB,KACtC,IAAA9C,GACE,MAAM+C,EAAa,UAAU7C,UAAU,sBACvC,OAAO6C,GAAcvC,EAAE,MAAO,CAC5BM,MAAO,mBACNN,EAAEwB,MAAMe,GACb,EAEFlD,OAAOC,IAAI0B,IAAI,6BAA8B,8BAA+BsB,GCR7D,MAAME,UAAkB,KACrC,IAAAhD,GACE,MAAMiD,EAA0E,MAAxD,UAAU/C,UAAU,gCACtCgD,EAAY,UAAUhD,UAAU,2BACtC,OAAO+C,GAAmBzC,EAAE,MAAO,CACjCM,MAAO,cACNN,EAAE,IAAK,KAAM0C,GAAa,IAC/B,EAEFrD,OAAOC,IAAI0B,IAAI,6BAA8B,6BAA8BwB,GCJ5D,MAAMG,UAAqB,KACxC,MAAAC,CAAOlB,GACLmB,MAAMD,OAAOlB,GACbvB,KAAK2C,YAAcC,SAAS,UAAUrD,UAAU,8BAClD,CACA,QAAAsD,GACE,MAAMC,EAAW,UAAUvD,UAAU,oBACrC,GAAIuD,EAAU,CACZ,MAAMC,EAAgBC,SAASC,cAAcC,yBAAyBJ,GACtEE,SAASG,KAAKC,YAAYL,EAC5B,CACA,MAAMM,EAAkB,UAAU9D,UAAU,6BAA+B,MACrE+D,EAAQN,SAASO,cAAc,SACrCD,EAAME,UAAY,+FAA+FxB,OAAOqB,EAAiB,+BACzIL,SAASS,KAAKL,YAAYE,EAC5B,CACA,IAAAjE,GAEE,OADmBW,KAAK0D,iBAAiB1D,KAAK2C,aAIvC9C,EAAE,MAAO,KAAMA,EAAE,MAAO,CAC7BM,MAAO,OACgD,MAAtD,UAAUZ,UAAU,+BAAyCM,EAAEiB,EAAW,MAAgE,MAAzD,UAAUvB,UAAU,kCAA4CM,EAAEyB,EAAY,CAChKE,MAAO,UAAUjC,UAAU,yBAC3BkC,MAAO,EACPC,IAAK,EACLC,UAAW,UAAUpC,UAAU,8BAC4B,MAAzD,UAAUA,UAAU,kCAA4CM,EAAEyB,EAAY,CAChFE,MAAO,UAAUjC,UAAU,yBAC3BkC,MAAO,EACPC,IAAK,GACLC,UAAW,UAAUpC,UAAU,8BAC4B,MAAzD,UAAUA,UAAU,kCAA4CM,EAAEyB,EAAY,CAChFE,MAAO,UAAUjC,UAAU,yBAC3BkC,MAAO,GACPC,IAAK,GACLC,UAAW,UAAUpC,UAAU,8BAC4B,MAAzD,UAAUA,UAAU,kCAA4CM,EAAEyB,EAAY,CAChFE,MAAO,UAAUjC,UAAU,yBAC3BkC,MAAO,GACPC,IAAK,GACLC,UAAW,UAAUpC,UAAU,+BAC5BM,EAAEsC,EAAY,MAAOtC,EAAEwC,EAAW,OAxB9B,IAyBX,CACA,gBAAAqB,CAAiBf,GACf,MAAMgB,EAAY,YAAY/E,IAAI,aAC5BgF,EAAYD,EAAYA,EAAUE,MAAM,KAAK,GAAK,GACxD,GAAkB,kBAAdF,GAA+C,UAAdA,GAAuC,WAAdA,EAC5D,OAAO,EAET,MAAMG,EAAiB,CACrB,GAAG,EACH,GAAG,EACH,EAAiB,eAAdF,EACH,EAAiB,UAAdA,EACH,GAAG,GAEL,YAAuC1D,IAAhC4D,EAAenB,IAA6BmB,EAAenB,EACpE,EAEFzD,OAAOC,IAAI0B,IAAI,6BAA8B,gCAAiC2B,GChE9E,iBAAiB3B,IAAI,6BAA8B,MACjD,IAAAkD,QAAO,cAA4B,QAAS,KAC1C,MAAMC,EAAShB,SAASO,cAAc,UACtCS,EAAOC,GAAK,gBACZpE,EAAEqE,MAAMlB,SAASG,KAAKC,YAAYY,GAASxB,M","sources":["webpack://@huseyinfiliz/modern-footer/webpack/bootstrap","webpack://@huseyinfiliz/modern-footer/webpack/runtime/compat get default export","webpack://@huseyinfiliz/modern-footer/webpack/runtime/define property getters","webpack://@huseyinfiliz/modern-footer/webpack/runtime/hasOwnProperty shorthand","webpack://@huseyinfiliz/modern-footer/external root \"flarum.reg.get('core', 'forum/app')\"","webpack://@huseyinfiliz/modern-footer/external root \"flarum.reg.get('core', 'common/extend')\"","webpack://@huseyinfiliz/modern-footer/external root \"flarum.reg.get('core', 'forum/ForumApplication')\"","webpack://@huseyinfiliz/modern-footer/external root \"flarum.reg.get('core', 'common/Component')\"","webpack://@huseyinfiliz/modern-footer/./src/forum/components/SocialButtons.js","webpack://@huseyinfiliz/modern-footer/./src/forum/components/InfoBlock.js","webpack://@huseyinfiliz/modern-footer/./src/forum/components/LinksBlock.js","webpack://@huseyinfiliz/modern-footer/./src/forum/components/CustomHtml.js","webpack://@huseyinfiliz/modern-footer/./src/forum/components/BottomBar.js","webpack://@huseyinfiliz/modern-footer/./src/forum/components/CustomFooter.js","webpack://@huseyinfiliz/modern-footer/./src/forum/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/app');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/extend');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/ForumApplication');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/Component');","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nexport default class SocialButtons extends Component {\n  view() {\n    const fields = [{\n      icon: app.forum.attribute('modern-footer.contact'),\n      link: app.forum.attribute('modern-footer.contact-link')\n    }, {\n      icon: app.forum.attribute('modern-footer.contact-2'),\n      link: app.forum.attribute('modern-footer.contact-link-2')\n    }, {\n      icon: app.forum.attribute('modern-footer.contact-3'),\n      link: app.forum.attribute('modern-footer.contact-link-3')\n    }, {\n      icon: app.forum.attribute('modern-footer.contact-4'),\n      link: app.forum.attribute('modern-footer.contact-link-4')\n    }];\n    return fields.filter(field => field.icon && field.link).map(field => {\n      const icon = field.icon.startsWith('fa') ? field.icon : 'fas fa-link';\n      const link = field.link;\n      return m(\"a\", {\n        href: link,\n        target: this.isExternalLink(link) ? '_blank' : undefined,\n        key: link\n      }, m(\"button\", {\n        class: \"Button Button Social\"\n      }, m(\"span\", {\n        class: \"Button-label\"\n      }, m(\"i\", {\n        class: icon\n      }))));\n    });\n  }\n  isExternalLink(link) {\n    try {\n      const url = new URL(link, window.location.origin);\n      return this.normalizeHostname(window.location.hostname) !== this.normalizeHostname(url.hostname);\n    } catch (e) {\n      return false;\n    }\n  }\n  normalizeHostname(hostname) {\n    return hostname.replace(/^www\\./, '');\n  }\n}\nflarum.reg.add('huseyinfiliz-modern-footer', 'forum/components/SocialButtons', SocialButtons);","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nimport SocialButtons from './SocialButtons';\nexport default class InfoBlock extends Component {\n  view() {\n    var _app$forum$attribute;\n    const titleContent = (_app$forum$attribute = app.forum.attribute('modern-footer.title-1')) == null ? void 0 : _app$forum$attribute.trim();\n    const rightText = app.forum.attribute('modern-footer.right-text');\n    return m(\"div\", {\n      class: \"foo-left\"\n    }, m(\"div\", null, titleContent ? titleContent.startsWith('http') ? m(\"h3\", null, m(\"img\", {\n      src: titleContent,\n      alt: \"Footer Logo\"\n    })) : m(\"h3\", null, m.trust(titleContent)) : null, rightText && m(\"p\", null, rightText), m(SocialButtons, null)));\n  }\n}\nflarum.reg.add('huseyinfiliz-modern-footer', 'forum/components/InfoBlock', InfoBlock);","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nexport default class LinksBlock extends Component {\n  view(vnode) {\n    const {\n      title,\n      start,\n      end,\n      iconClass\n    } = vnode.attrs;\n    const links = this.generateLinks(start, end);\n    return m(\"div\", {\n      class: \"foo-mid\"\n    }, m(\"div\", null, m(\"h3\", null, m(\"i\", {\n      class: iconClass\n    }), \" \", title), m(\"ul\", null, links)));\n  }\n  generateLinks(start, end) {\n    const links = [];\n    for (let i = start; i <= end; i++) {\n      const link = app.forum.attribute(\"modern-footer.link-\".concat(i));\n      const text = app.forum.attribute(\"modern-footer.text-\".concat(i));\n      if (link && text) {\n        links.push(m(\"li\", {\n          key: link\n        }, m(\"a\", {\n          href: link,\n          target: this.isExternalLink(link) ? '_blank' : undefined\n        }, text)));\n      }\n    }\n    return links;\n  }\n  isExternalLink(link) {\n    try {\n      const url = new URL(link, window.location.origin);\n      return this.normalizeHostname(window.location.hostname) !== this.normalizeHostname(url.hostname);\n    } catch (e) {\n      return false;\n    }\n  }\n  normalizeHostname(hostname) {\n    return hostname.replace(/^www\\./, '');\n  }\n}\nflarum.reg.add('huseyinfiliz-modern-footer', 'forum/components/LinksBlock', LinksBlock);","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nexport default class CustomHtml extends Component {\n  view() {\n    const customHtml = app.forum.attribute('modern-footer.html');\n    return customHtml && m(\"div\", {\n      class: \"foo-custom-html\"\n    }, m.trust(customHtml));\n  }\n}\nflarum.reg.add('huseyinfiliz-modern-footer', 'forum/components/CustomHtml', CustomHtml);","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nexport default class BottomBar extends Component {\n  view() {\n    const isBottomEnabled = app.forum.attribute('modern-footer.bottom-enabled') === '1';\n    const copyright = app.forum.attribute('modern-footer.copyright');\n    return isBottomEnabled && m(\"div\", {\n      class: \"foo-bottom\"\n    }, m(\"p\", null, copyright || ''));\n  }\n}\nflarum.reg.add('huseyinfiliz-modern-footer', 'forum/components/BottomBar', BottomBar);","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nimport InfoBlock from './InfoBlock';\nimport LinksBlock from './LinksBlock';\nimport SocialButtons from './SocialButtons';\nimport CustomHtml from './CustomHtml';\nimport BottomBar from './BottomBar';\nexport default class CustomFooter extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.displayMode = parseInt(app.forum.attribute('modern-footer.display-mode'));\n  }\n  oncreate() {\n    const customJS = app.forum.attribute('modern-footer.js');\n    if (customJS) {\n      const scriptElement = document.createRange().createContextualFragment(customJS);\n      document.body.appendChild(scriptElement);\n    }\n    const mobileTabHeight = app.forum.attribute('modern-footer.mobile-tab') || '0px';\n    const style = document.createElement('style');\n    style.innerHTML = \"\\n      @media (max-width: 768px) {\\n        #modern-footer>div {\\n          margin-bottom: \".concat(mobileTabHeight, \";\\n        }\\n      }\\n    \");\n    document.head.appendChild(style);\n  }\n  view() {\n    const showFooter = this.shouldShowFooter(this.displayMode);\n    if (!showFooter) {\n      return null;\n    }\n    return m(\"div\", null, m(\"div\", {\n      class: \"row\"\n    }, app.forum.attribute('modern-footer.info-enabled') === '1' && m(InfoBlock, null), app.forum.attribute('modern-footer.links-1-enabled') === '1' && m(LinksBlock, {\n      title: app.forum.attribute('modern-footer.title-2'),\n      start: 1,\n      end: 6,\n      iconClass: app.forum.attribute('modern-footer.title-fa-2')\n    }), app.forum.attribute('modern-footer.links-2-enabled') === '1' && m(LinksBlock, {\n      title: app.forum.attribute('modern-footer.title-3'),\n      start: 7,\n      end: 12,\n      iconClass: app.forum.attribute('modern-footer.title-fa-3')\n    }), app.forum.attribute('modern-footer.links-3-enabled') === '1' && m(LinksBlock, {\n      title: app.forum.attribute('modern-footer.title-4'),\n      start: 13,\n      end: 18,\n      iconClass: app.forum.attribute('modern-footer.title-fa-4')\n    }), app.forum.attribute('modern-footer.links-4-enabled') === '1' && m(LinksBlock, {\n      title: app.forum.attribute('modern-footer.title-5'),\n      start: 19,\n      end: 24,\n      iconClass: app.forum.attribute('modern-footer.title-fa-5')\n    })), m(CustomHtml, null), m(BottomBar, null));\n  }\n  shouldShowFooter(displayMode) {\n    const routeName = app.current.get('routeName');\n    const mainRoute = routeName ? routeName.split('.')[0] : '';\n    if (routeName === 'notifications' || routeName === 'flags' || routeName === 'drafts') {\n      return false;\n    }\n    const displayModeMap = {\n      0: true,\n      1: false,\n      2: mainRoute !== 'discussion',\n      3: mainRoute === 'index',\n      4: true\n    };\n    return displayModeMap[displayMode] !== undefined ? displayModeMap[displayMode] : true;\n  }\n}\nflarum.reg.add('huseyinfiliz-modern-footer', 'forum/components/CustomFooter', CustomFooter);","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport ForumApplication from 'flarum/forum/ForumApplication';\nimport CustomFooter from './components/CustomFooter';\napp.initializers.add('huseyinfiliz-modern-footer', () => {\n  extend(ForumApplication.prototype, 'mount', () => {\n    const footer = document.createElement('footer');\n    footer.id = 'modern-footer';\n    m.mount(document.body.appendChild(footer), CustomFooter);\n  });\n});"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","reg","SocialButtons","view","icon","attribute","link","filter","field","map","startsWith","m","href","target","this","isExternalLink","undefined","class","url","URL","window","location","origin","normalizeHostname","hostname","e","replace","add","InfoBlock","_app$forum$attribute","titleContent","trim","rightText","src","alt","trust","LinksBlock","vnode","title","start","end","iconClass","attrs","links","generateLinks","i","concat","text","push","CustomHtml","customHtml","BottomBar","isBottomEnabled","copyright","CustomFooter","oninit","super","displayMode","parseInt","oncreate","customJS","scriptElement","document","createRange","createContextualFragment","body","appendChild","mobileTabHeight","style","createElement","innerHTML","head","shouldShowFooter","routeName","mainRoute","split","displayModeMap","extend","footer","id","mount"],"sourceRoot":""}