(()=>{var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};(()=>{"use strict";const e=flarum.core.compat["admin/app"];var n=t.n(e);function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e)}const a=flarum.core.compat["admin/components/ExtensionPage"];var s=t.n(a);const r=flarum.core.compat["common/Component"];var l=t.n(r);const c=flarum.core.compat["components/FieldSet"];var u=t.n(c);const p=flarum.core.compat["utils/Stream"];var f=t.n(p);const d=flarum.core.compat["components/Button"];var h=t.n(d);const v=flarum.core.compat["utils/saveSettings"];var g=t.n(v),b=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.oninit=function(e){var n=this;t.prototype.oninit.call(this,e),this.translationPrefix="huseyinfiliz-modern-footer.admin.settings.",this.fields=[{key:"modern-footer.info-enabled",translationKey:"about"},{key:"modern-footer.links-1-enabled",translationKey:"block",blockNumber:2},{key:"modern-footer.links-2-enabled",translationKey:"block",blockNumber:3},{key:"modern-footer.links-3-enabled",translationKey:"block",blockNumber:4},{key:"modern-footer.links-4-enabled",translationKey:"block",blockNumber:5},{key:"modern-footer.bottom-enabled",translationKey:"bottom_section"},{key:"modern-footer.mobile-tab",translationKey:"mobile_tab_height"},{key:"modern-footer.display-mode",translationKey:"display_mode"}],this.values={},this.usedTitles={},this.fields.forEach((function(t){var e=t.key,o=t.blockNumber;if(o){var i="modern-footer.title-"+o,a=app.data.settings[i],s=app.translator.trans(n.translationPrefix+"block")+" #"+o;void 0!==a&&(s=a),n.usedTitles[o]=!0,app.data.settings[i]=s}n.values[e]=f()(app.data.settings[e]||(e.includes("enabled")?"1":"modern-footer.display-mode"===e?"0":"")),n.values[e].map((function(t){app.data.settings[e]=t}))})),this.saving=!1},n.view=function(){var t=this,e=function(e){return app.translator.trans(t.translationPrefix+e)};return m("div",{className:"GeneralSettings"},m(u(),{label:e("display_mode")},m("div",{className:"Form-group"},m("select",{className:"FormControl",value:this.values["modern-footer.display-mode"](),onchange:function(e){return t.values["modern-footer.display-mode"](e.target.value)},disabled:"4"===this.values["modern-footer.display-mode"]()},m("option",{value:"0"},e("all_pages")),m("option",{value:"1"},e("hide_everywhere")),m("option",{value:"2"},e("hide_on_discussions")),m("option",{value:"3"},e("hide_except_index")),m("option",{value:"4",disabled:!0},e("custom"))))),m(u(),{label:e("manage_footer_sections")},this.fields.filter((function(t){return t.key.includes("-enabled")})).map((function(n){var o=n.key,i=n.translationKey,a=n.blockNumber;return m("div",{className:"Form-group",key:o},m("label",{className:"Checkbox "+("1"===t.values[o]()?"on":"off")+" Checkbox--switch"},m("input",{type:"checkbox",checked:"1"===t.values[o](),onchange:function(e){return t.values[o](e.target.checked?"1":"0")}}),m("div",{className:"Checkbox-display","aria-hidden":"true"}),a?app.data.settings["modern-footer.title-"+a]||e("block")+" #"+a:e(i)))}))),m(u(),{label:e("mobile_tab_height")},m("div",{className:"Form-group"},m("input",{className:"FormControl",type:"text",bidi:this.values["modern-footer.mobile-tab"],placeholder:"var(--mobile-tab-height) / 54px"}),m("p",{className:"helpText"},e("mobile_tab_height_help")))),m("div",{className:"Form-group"},h().component({className:"Button Button--primary",type:"button",onclick:this.confirm.bind(this),loading:this.saving},app.translator.trans("core.admin.settings.submit_button"))))},n.confirm=function(){var t=this,e={};this.fields.forEach((function(n){var o=n.key;e[o]=t.values[o]()})),this.saving=!0,g()(e).then((function(){app.alerts.show({type:"success"},app.translator.trans("core.admin.settings.saved_message"))})).catch((function(){})).finally((function(){t.saving=!1,m.redraw()}))},e}(l()),y=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.oninit=function(e){var n=this;t.prototype.oninit.call(this,e),this.saving=!1,this.fields=["modern-footer.right-text","modern-footer.contact","modern-footer.contact-link","modern-footer.contact-2","modern-footer.contact-link-2","modern-footer.contact-3","modern-footer.contact-link-3","modern-footer.contact-4","modern-footer.contact-link-4"],this.values={};var o=app.data.settings;this.fields.forEach((function(t){return n.values[t]=f()(o[t]||"")})),this.translationPrefix="huseyinfiliz-modern-footer.admin.settings."},n.view=function(){var t=this,e=function(e){return app.translator.trans(t.translationPrefix+e)};return m("form",{onsubmit:this.onsubmit.bind(this)},m("div",{className:"container"},u().component({label:e("about_us")},[m("div",{className:"Form-group"},m("textarea",{className:"FormControl",rows:"10",bidi:this.values["modern-footer.right-text"]}),m("p",{className:"helpText"},e("about_us_help")))]),u().component({label:e("social_media_button")+" #1"},[m("div",{className:"Form-group"},m("label",null,e("font_awesome_icon")),m("input",{className:"FormControl",bidi:this.values["modern-footer.contact"],placeholder:"fas fa-link"})),m("div",{className:"Form-group"},m("label",null,e("social_link")),m("input",{className:"FormControl",bidi:this.values["modern-footer.contact-link"],placeholder:"https://www.example.com/username"}))]),u().component({label:e("social_media_button")+" #2"},[m("div",{className:"Form-group"},m("label",null,e("font_awesome_icon")),m("input",{className:"FormControl",bidi:this.values["modern-footer.contact-2"],placeholder:"fas fa-link"})),m("div",{className:"Form-group"},m("label",null,e("social_link")),m("input",{className:"FormControl",bidi:this.values["modern-footer.contact-link-2"],placeholder:"https://www.example.com/username"}))]),u().component({label:e("social_media_button")+" #3"},[m("div",{className:"Form-group"},m("label",null,e("font_awesome_icon")),m("input",{className:"FormControl",bidi:this.values["modern-footer.contact-3"],placeholder:"fas fa-link"})),m("div",{className:"Form-group"},m("label",null,e("social_link")),m("input",{className:"FormControl",bidi:this.values["modern-footer.contact-link-3"],placeholder:"https://www.example.com/username"}))]),u().component({label:e("social_media_button")+" #4"},[m("div",{className:"Form-group"},m("label",null,e("font_awesome_icon")),m("input",{className:"FormControl",bidi:this.values["modern-footer.contact-4"],placeholder:"fas fa-link"})),m("div",{className:"Form-group"},m("label",null,e("social_link")),m("input",{className:"FormControl",bidi:this.values["modern-footer.contact-link-4"],placeholder:"https://www.example.com/username"}))]),m("div",{className:"Form-group"},h().component({type:"submit",className:"Button Button--primary",loading:this.saving},app.translator.trans("core.admin.settings.submit_button")))))},n.onsubmit=function(t){var e=this;if(t.preventDefault(),!this.saving){this.saving=!0;var n={};this.fields.forEach((function(t){n[t]=e.values[t]()})),g()(n).then((function(){app.alerts.show({type:"success"},app.translator.trans("core.admin.settings.saved_message"))})).catch((function(){})).finally((function(){e.saving=!1,m.redraw()}))}},e}(l()),N=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.oninit=function(e){var n=this;t.prototype.oninit.call(this,e),this.saving=!1,this.translationPrefix="huseyinfiliz-modern-footer.admin.settings.",this.settingsStream=this.attrs.settingsStream,this.blocks=[{id:"1",titleKey:"modern-footer.title-1"},{id:"2",iconKey:"modern-footer.title-fa-2",titleKey:"modern-footer.title-2"},{id:"3",iconKey:"modern-footer.title-fa-3",titleKey:"modern-footer.title-3"},{id:"4",iconKey:"modern-footer.title-fa-4",titleKey:"modern-footer.title-4"},{id:"5",iconKey:"modern-footer.title-fa-5",titleKey:"modern-footer.title-5"}],this.values={},this.blocks.forEach((function(t){var e=t.iconKey,o=t.titleKey;n.values[e]=f()(e&&n.settingsStream()[e]||""),n.values[o]=f()(n.settingsStream()[o]||""),n.values[o].map((function(t){var e=n.settingsStream();e[o]=t,n.settingsStream(e)}))}))},n.view=function(){var t=this,e=function(e){return app.translator.trans(t.translationPrefix+e)};return m("form",{onsubmit:this.onsubmit.bind(this)},m("div",{className:"container"},this.blocks.map((function(n){var o=n.id,i=n.iconKey,a=n.titleKey;return m(u(),{key:o,label:e("block")+" "+o},"1"===o&&m("div",{className:"Form-group"},m("label",null,e("forum_logo")),m("input",{className:"FormControl",bidi:t.values[a]}),m("p",{className:"helpText"},e("forum_logo_help"),m("code",null,' <i class="fas fa-link"></i> '," ",e("title")))),"1"!==o&&m("[",null,m("div",{className:"Form-group"},m("label",null,e("font_awesome_icon")),m("input",{className:"FormControl",bidi:t.values[i],placeholder:"fas fa-link"})),m("div",{className:"Form-group"},m("label",null,e("title")),m("input",{className:"FormControl",bidi:t.values[a],placeholder:e("title")}))))})),m("div",{className:"Form-group"},h().component({type:"submit",className:"Button Button--primary",loading:this.saving,disabled:this.saving},app.translator.trans("core.admin.settings.submit_button")))))},n.onsubmit=function(t){var e=this;if(t.preventDefault(),!this.saving){this.saving=!0;var n={};this.blocks.forEach((function(t){var o=t.iconKey,i=t.titleKey;o&&(n[o]=e.values[o]()),n[i]=e.values[i]()}));var o=this.settingsStream();Object.assign(o,n),this.settingsStream(o),g()(n).then((function(){app.alerts.show({type:"success"},app.translator.trans("core.admin.settings.saved_message")),null==e.attrs.refreshSettings||e.attrs.refreshSettings()})).catch((function(){})).finally((function(){e.saving=!1,m.redraw()}))}},e}(l()),k=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.oninit=function(e){var n=this;t.prototype.oninit.call(this,e),this.saving=!1,this.sections=Array.from({length:6},(function(t,e){return{titleKey:"modern-footer.text-"+(e+1),urlKey:"modern-footer.link-"+(e+1)}})),this.values={};var o=app.data.settings;this.sections.forEach((function(t){n.values[t.titleKey]=f()(o[t.titleKey]||""),n.values[t.urlKey]=f()(o[t.urlKey]||"")})),this.translationPrefix="huseyinfiliz-modern-footer.admin.settings."},n.view=function(){var t=this,e=function(e){return app.translator.trans(t.translationPrefix+e)};return m("form",{onsubmit:this.onsubmit.bind(this)},m("div",{className:"container"},this.sections.map((function(n,o){return u().component({label:e("link")+" #"+(o+1)},[m("div",{className:"LinkSection"},m("div",{className:"Form-group"},m("label",null,e("text")),m("input",{className:"FormControl",bidi:t.values[n.titleKey],placeholder:e("text")})),m("div",{className:"Form-group"},m("label",null,e("link")),m("input",{className:"FormControl",bidi:t.values[n.urlKey],placeholder:e("link")})))])})),m("div",{className:"Form-group"},h().component({type:"submit",className:"Button Button--primary",loading:this.saving},app.translator.trans("core.admin.settings.submit_button")))))},n.onsubmit=function(t){var e=this;if(t.preventDefault(),!this.saving){this.saving=!0;var n={};this.sections.forEach((function(t){n[t.titleKey]=e.values[t.titleKey](),n[t.urlKey]=e.values[t.urlKey]()})),g()(n).then((function(){app.alerts.show({type:"success"},app.translator.trans("core.admin.settings.saved_message"))})).catch((function(){})).finally((function(){e.saving=!1,m.redraw()}))}},e}(l()),_=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.oninit=function(e){var n=this;t.prototype.oninit.call(this,e),this.saving=!1,this.sections=Array.from({length:6},(function(t,e){return{titleKey:"modern-footer.text-"+(e+7),urlKey:"modern-footer.link-"+(e+7)}})),this.values={};var o=app.data.settings;this.sections.forEach((function(t){n.values[t.titleKey]=f()(o[t.titleKey]||""),n.values[t.urlKey]=f()(o[t.urlKey]||"")})),this.translationPrefix="huseyinfiliz-modern-footer.admin.settings."},n.view=function(){var t=this,e=function(e){return app.translator.trans(t.translationPrefix+e)};return m("form",{onsubmit:this.onsubmit.bind(this)},m("div",{className:"container"},this.sections.map((function(n,o){return u().component({label:e("link")+" #"+(o+1)},[m("div",{className:"LinkSection"},m("div",{className:"Form-group"},m("label",null,e("text")),m("input",{className:"FormControl",bidi:t.values[n.titleKey],placeholder:e("text")})),m("div",{className:"Form-group"},m("label",null,e("link")),m("input",{className:"FormControl",bidi:t.values[n.urlKey],placeholder:e("link")})))])})),m("div",{className:"Form-group"},h().component({type:"submit",className:"Button Button--primary",loading:this.saving},app.translator.trans("core.admin.settings.submit_button")))))},n.onsubmit=function(t){var e=this;if(t.preventDefault(),!this.saving){this.saving=!0;var n={};this.sections.forEach((function(t){n[t.titleKey]=e.values[t.titleKey](),n[t.urlKey]=e.values[t.urlKey]()})),g()(n).then((function(){app.alerts.show({type:"success"},app.translator.trans("core.admin.settings.saved_message"))})).catch((function(){})).finally((function(){e.saving=!1,m.redraw()}))}},e}(l()),K=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.oninit=function(e){var n=this;t.prototype.oninit.call(this,e),this.saving=!1,this.sections=Array.from({length:6},(function(t,e){return{titleKey:"modern-footer.text-"+(e+13),urlKey:"modern-footer.link-"+(e+13)}})),this.values={};var o=app.data.settings;this.sections.forEach((function(t){n.values[t.titleKey]=f()(o[t.titleKey]||""),n.values[t.urlKey]=f()(o[t.urlKey]||"")})),this.translationPrefix="huseyinfiliz-modern-footer.admin.settings."},n.view=function(){var t=this,e=function(e){return app.translator.trans(t.translationPrefix+e)};return m("form",{onsubmit:this.onsubmit.bind(this)},m("div",{className:"container"},this.sections.map((function(n,o){return u().component({label:e("link")+" #"+(o+1)},[m("div",{className:"LinkSection"},m("div",{className:"Form-group"},m("label",null,e("text")),m("input",{className:"FormControl",bidi:t.values[n.titleKey],placeholder:e("text")})),m("div",{className:"Form-group"},m("label",null,e("link")),m("input",{className:"FormControl",bidi:t.values[n.urlKey],placeholder:e("link")})))])})),m("div",{className:"Form-group"},h().component({type:"submit",className:"Button Button--primary",loading:this.saving},app.translator.trans("core.admin.settings.submit_button")))))},n.onsubmit=function(t){var e=this;if(t.preventDefault(),!this.saving){this.saving=!0;var n={};this.sections.forEach((function(t){n[t.titleKey]=e.values[t.titleKey](),n[t.urlKey]=e.values[t.urlKey]()})),g()(n).then((function(){app.alerts.show({type:"success"},app.translator.trans("core.admin.settings.saved_message"))})).catch((function(){})).finally((function(){e.saving=!1,m.redraw()}))}},e}(l()),F=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.oninit=function(e){var n=this;t.prototype.oninit.call(this,e),this.saving=!1,this.sections=Array.from({length:6},(function(t,e){return{titleKey:"modern-footer.text-"+(e+19),urlKey:"modern-footer.link-"+(e+19)}})),this.values={};var o=app.data.settings;this.sections.forEach((function(t){n.values[t.titleKey]=f()(o[t.titleKey]||""),n.values[t.urlKey]=f()(o[t.urlKey]||"")})),this.translationPrefix="huseyinfiliz-modern-footer.admin.settings."},n.view=function(){var t=this,e=function(e){return app.translator.trans(t.translationPrefix+e)};return m("form",{onsubmit:this.onsubmit.bind(this)},m("div",{className:"container"},this.sections.map((function(n,o){return m(u(),{key:o,label:e("link")+" #"+(o+1)},m("div",{className:"LinkSection"},m("div",{className:"Form-group"},m("label",null,e("text")),m("input",{className:"FormControl",bidi:t.values[n.titleKey],placeholder:e("text")})),m("div",{className:"Form-group"},m("label",null,e("link")),m("input",{className:"FormControl",bidi:t.values[n.urlKey],placeholder:e("link")}))))})),m("div",{className:"Form-group"},h().component({type:"submit",className:"Button Button--primary",loading:this.saving},app.translator.trans("core.admin.settings.submit_button")))))},n.onsubmit=function(t){var e=this;if(t.preventDefault(),!this.saving){this.saving=!0;var n={};this.sections.forEach((function(t){n[t.titleKey]=e.values[t.titleKey](),n[t.urlKey]=e.values[t.urlKey]()})),g()(n).then((function(){app.alerts.show({type:"success"},app.translator.trans("core.admin.settings.saved_message"))})).catch((function(){})).finally((function(){e.saving=!1,m.redraw()}))}},e}(l()),x=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.oninit=function(e){var n=this;t.prototype.oninit.call(this,e),this.saving=!1,this.fields=["modern-footer.copyright","modern-footer.html"],this.values={};var o=app.data.settings;this.fields.forEach((function(t){return n.values[t]=f()(o[t]||"")})),this.translationPrefix="huseyinfiliz-modern-footer.admin.settings."},n.view=function(){var t=this,e=function(e){return app.translator.trans(t.translationPrefix+e)};return m("form",{onsubmit:this.onsubmit.bind(this)},m("div",{className:"container"},u().component({label:e("custom_html")},[m("div",{className:"Form-group"},m("textarea",{className:"FormControl",rows:"10",bidi:this.values["modern-footer.html"],placeholder:e("custom_html")}))]),u().component({label:e("bottom_section")},[m("div",{className:"Form-group"},m("label",null,e("text")),m("input",{className:"FormControl",bidi:this.values["modern-footer.copyright"]}),m("p",{className:"helpText"},e("bottom_help")))]),m("div",{className:"Form-group"},h().component({type:"submit",className:"Button Button--primary",loading:this.saving},app.translator.trans("core.admin.settings.submit_button")))))},n.onsubmit=function(t){var e=this;if(t.preventDefault(),!this.saving){this.saving=!0;var n={};this.fields.forEach((function(t){n[t]=e.values[t]()})),g()(n).then((function(){app.alerts.show({type:"success"},app.translator.trans("core.admin.settings.saved_message"))})).catch((function(){})).finally((function(){e.saving=!1,m.redraw()}))}},e}(l()),w=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.oninit=function(e){t.prototype.oninit.call(this,e),this.saving=!1,this.jsSetting=f()(app.data.settings["modern-footer.js"]||""),this.translationPrefix="huseyinfiliz-modern-footer.admin.settings."},n.view=function(){return m("form",{onsubmit:this.onsubmit.bind(this)},m("div",{className:"container"},u().component({label:app.translator.trans(this.translationPrefix+"custom_js_code")},[m("div",{className:"Form-group"},m("textarea",{className:"FormControl",bidi:this.jsSetting,rows:"10"}))]),m("div",{className:"Form-group"},h().component({type:"submit",className:"Button Button--primary",loading:this.saving},app.translator.trans("core.admin.settings.submit_button")))))},n.onsubmit=function(t){var e=this;t.preventDefault(),this.saving||(this.saving=!0,g()({"modern-footer.js":this.jsSetting()}).then((function(){app.alerts.show({type:"success"},app.translator.trans("core.admin.settings.saved_message"))})).catch((function(){})).finally((function(){e.saving=!1,m.redraw()})))},e}(l()),S=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var o=e.prototype;return o.oninit=function(e){t.prototype.oninit.call(this,e),this.settings=n().data.settings,this.settingsStream=f()(this.settings)},o.content=function(){var t,e,o,i=this,a=m.route.param("page")||"general",s=function(t){return n().translator.trans("huseyinfiliz-modern-footer.admin.settings."+t)},r=[{key:"general",icon:"fas fa-cogs",label:s("general"),component:b},{key:"titles",icon:"fas fa-th-large",label:s("blocks"),component:N},{key:"info",icon:"fas fa-info-circle",label:s("about"),component:y}].concat((t=[],e={},["2","3","4","5"].forEach((function(n){var o="modern-footer.title-"+n,a="modern-footer.title-fa-"+n,r=i.settingsStream()[o]||s("block")+" #"+n,l=i.settingsStream()[a]||"fas fa-link";e[r]&&(r+=" #"+n),e[r]=!0;var m={2:k,3:_,4:K,5:F};t.push({key:"links-"+(n-1),icon:l,label:r,component:m[n]})})),t),[{key:"bottom",icon:"fas fa-arrow-down",label:s("bottom"),component:x},{key:"js",icon:"fas fa-code",label:s("custom_js"),component:w}]);return m("div",{className:"SettingsPage"},m("div",{className:"SettingsPage-menu"},m("ul",{className:"SettingsPage-menu-list"},r.map((function(t){var e=t.key,o=t.icon,i=t.label;return m("li",{key:e},m("button",{className:"SettingsPage-menu-item "+(a===e?"active":""),onclick:function(){m.route.set(n().route("extension",{id:"huseyinfiliz-modern-footer",page:e}))}},m("i",{className:o})," ",i))})))),m("div",{className:"SettingsPage-content"},(o=r.find((function(t){return t.key===a})))?"titles"===o.key?m(o.component,{settingsStream:i.settingsStream}):m(o.component):m(b)))},o.refreshSettings=function(){var t=this;n().store.find("settings").then((function(e){t.settingsStream(e),m.redraw()}))},e}(s());n().initializers.add("huseyinfiliz-modern-footer",(function(){n().extensionData.for("huseyinfiliz-modern-footer").registerPage(S)}))})(),module.exports={}})();
//# sourceMappingURL=admin.js.map