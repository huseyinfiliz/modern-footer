(()=>{var t={n:e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return t.d(s,{a:s}),s},d:(e,s)=>{for(var a in s)t.o(s,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};(()=>{"use strict";t.r(e),t.d(e,{extend:()=>C});const s=flarum.reg.get("core","admin/app");var a=t.n(s);const i=flarum.reg.get("core","common/extenders");var o=t.n(i);const n=flarum.reg.get("core","admin/components/ExtensionPage");var r=t.n(n);const l=flarum.reg.get("core","common/Component");var c=t.n(l);const u=flarum.reg.get("core","common/components/FieldSet");var d=t.n(u);const h=flarum.reg.get("core","common/utils/Stream");var p=t.n(h);const f=flarum.reg.get("core","common/components/Button");var g=t.n(f);const v=flarum.reg.get("core","admin/utils/saveSettings");var b=t.n(v);class y extends(c()){oninit(t){super.oninit(t),this.translationPrefix="huseyinfiliz-modern-footer.admin.settings.",this.fields=[{key:"modern-footer.info-enabled",translationKey:"about"},{key:"modern-footer.links-1-enabled",translationKey:"block",blockNumber:2},{key:"modern-footer.links-2-enabled",translationKey:"block",blockNumber:3},{key:"modern-footer.links-3-enabled",translationKey:"block",blockNumber:4},{key:"modern-footer.links-4-enabled",translationKey:"block",blockNumber:5},{key:"modern-footer.bottom-enabled",translationKey:"bottom_section"},{key:"modern-footer.mobile-tab",translationKey:"mobile_tab_height"},{key:"modern-footer.display-mode",translationKey:"display_mode"}],this.values={},this.usedTitles={},this.fields.forEach(t=>{let{key:e,blockNumber:s}=t;if(s){const t="modern-footer.title-".concat(s),e=app.data.settings[t],a=t=>app.translator.trans(this.translationPrefix+t);let i="".concat(a("block")," #").concat(s);void 0!==e&&(i=e),this.usedTitles[s]=!0,app.data.settings[t]=i}this.values[e]=p()(app.data.settings[e]||(e.includes("enabled")?"1":"modern-footer.display-mode"===e?"0":"")),this.values[e].map(t=>{app.data.settings[e]=t})}),this.saving=!1}view(){const t=t=>app.translator.trans(this.translationPrefix+t);return m("div",{className:"GeneralSettings"},m(d(),{label:t("display_mode")},m("div",{className:"Form-group"},m("select",{className:"FormControl",value:this.values["modern-footer.display-mode"](),onchange:t=>this.values["modern-footer.display-mode"](t.target.value),disabled:"4"===this.values["modern-footer.display-mode"]()},m("option",{value:"0"},t("all_pages")),m("option",{value:"1"},t("hide_everywhere")),m("option",{value:"2"},t("hide_on_discussions")),m("option",{value:"3"},t("hide_except_index")),m("option",{value:"4",disabled:!0},t("custom"))))),m(d(),{label:t("manage_footer_sections")},this.fields.filter(t=>{let{key:e}=t;return e.includes("-enabled")}).map(e=>{let{key:s,translationKey:a,blockNumber:i}=e;return m("div",{className:"Form-group",key:s},m("label",{className:"Checkbox ".concat("1"===this.values[s]()?"on":"off"," Checkbox--switch")},m("input",{type:"checkbox",checked:"1"===this.values[s](),onchange:t=>this.values[s](t.target.checked?"1":"0")}),m("div",{className:"Checkbox-display","aria-hidden":"true"}),i?app.data.settings["modern-footer.title-".concat(i)]||"".concat(t("block")," #").concat(i):t(a)))})),m(d(),{label:t("mobile_tab_height")},m("div",{className:"Form-group"},m("input",{className:"FormControl",type:"text",bidi:this.values["modern-footer.mobile-tab"],placeholder:"var(--mobile-tab-height) / 54px"}),m("p",{className:"helpText"},t("mobile_tab_height_help")))),m("div",{className:"Form-group"},g().component({className:"Button Button--primary",type:"button",onclick:this.confirm.bind(this),loading:this.saving},app.translator.trans("core.admin.settings.submit_button"))))}confirm(){const t={};this.fields.forEach(e=>{let{key:s}=e;t[s]=this.values[s]()}),this.saving=!0,b()(t).then(()=>{app.alerts.show({type:"success"},app.translator.trans("core.admin.settings.saved_message"))}).catch(()=>{}).finally(()=>{this.saving=!1,m.redraw()})}}flarum.reg.add("huseyinfiliz-modern-footer","admin/Pages/GeneralSettingsPage",y);class k extends(c()){oninit(t){super.oninit(t),this.saving=!1,this.fields=["modern-footer.right-text","modern-footer.contact","modern-footer.contact-link","modern-footer.contact-2","modern-footer.contact-link-2","modern-footer.contact-3","modern-footer.contact-link-3","modern-footer.contact-4","modern-footer.contact-link-4"],this.values={};const e=app.data.settings;this.fields.forEach(t=>this.values[t]=p()(e[t]||"")),this.translationPrefix="huseyinfiliz-modern-footer.admin.settings."}view(){const t=t=>app.translator.trans(this.translationPrefix+t);return m("form",{onsubmit:this.onsubmit.bind(this)},m("div",{className:"container"},d().component({label:t("about_us")},[m("div",{className:"Form-group"},m("textarea",{className:"FormControl",rows:"10",bidi:this.values["modern-footer.right-text"]}),m("p",{className:"helpText"},t("about_us_help")))]),d().component({label:"".concat(t("social_media_button")," #1")},[m("div",{className:"Form-group"},m("label",null,t("font_awesome_icon")),m("input",{className:"FormControl",bidi:this.values["modern-footer.contact"],placeholder:"fas fa-link"})),m("div",{className:"Form-group"},m("label",null,t("social_link")),m("input",{className:"FormControl",bidi:this.values["modern-footer.contact-link"],placeholder:"https://www.example.com/username"}))]),d().component({label:"".concat(t("social_media_button")," #2")},[m("div",{className:"Form-group"},m("label",null,t("font_awesome_icon")),m("input",{className:"FormControl",bidi:this.values["modern-footer.contact-2"],placeholder:"fas fa-link"})),m("div",{className:"Form-group"},m("label",null,t("social_link")),m("input",{className:"FormControl",bidi:this.values["modern-footer.contact-link-2"],placeholder:"https://www.example.com/username"}))]),d().component({label:"".concat(t("social_media_button")," #3")},[m("div",{className:"Form-group"},m("label",null,t("font_awesome_icon")),m("input",{className:"FormControl",bidi:this.values["modern-footer.contact-3"],placeholder:"fas fa-link"})),m("div",{className:"Form-group"},m("label",null,t("social_link")),m("input",{className:"FormControl",bidi:this.values["modern-footer.contact-link-3"],placeholder:"https://www.example.com/username"}))]),d().component({label:"".concat(t("social_media_button")," #4")},[m("div",{className:"Form-group"},m("label",null,t("font_awesome_icon")),m("input",{className:"FormControl",bidi:this.values["modern-footer.contact-4"],placeholder:"fas fa-link"})),m("div",{className:"Form-group"},m("label",null,t("social_link")),m("input",{className:"FormControl",bidi:this.values["modern-footer.contact-link-4"],placeholder:"https://www.example.com/username"}))]),m("div",{className:"Form-group"},g().component({type:"submit",className:"Button Button--primary",loading:this.saving},app.translator.trans("core.admin.settings.submit_button")))))}onsubmit(t){if(t.preventDefault(),this.saving)return;this.saving=!0;const e={};this.fields.forEach(t=>{e[t]=this.values[t]()}),b()(e).then(()=>{app.alerts.show({type:"success"},app.translator.trans("core.admin.settings.saved_message"))}).catch(()=>{}).finally(()=>{this.saving=!1,m.redraw()})}}flarum.reg.add("huseyinfiliz-modern-footer","admin/Pages/InformationPage",k);class N extends(c()){oninit(t){super.oninit(t),this.saving=!1,this.translationPrefix="huseyinfiliz-modern-footer.admin.settings.",this.settingsStream=this.attrs.settingsStream,this.blocks=[{id:"1",titleKey:"modern-footer.title-1"},{id:"2",iconKey:"modern-footer.title-fa-2",titleKey:"modern-footer.title-2"},{id:"3",iconKey:"modern-footer.title-fa-3",titleKey:"modern-footer.title-3"},{id:"4",iconKey:"modern-footer.title-fa-4",titleKey:"modern-footer.title-4"},{id:"5",iconKey:"modern-footer.title-fa-5",titleKey:"modern-footer.title-5"}],this.values={},this.blocks.forEach(t=>{let{iconKey:e,titleKey:s}=t;this.values[e]=p()(e&&this.settingsStream()[e]||""),this.values[s]=p()(this.settingsStream()[s]||""),this.values[s].map(t=>{const e=this.settingsStream();e[s]=t,this.settingsStream(e)})})}view(){const t=t=>app.translator.trans(this.translationPrefix+t);return m("form",{onsubmit:this.onsubmit.bind(this)},m("div",{className:"container"},this.blocks.map(e=>{let{id:s,iconKey:a,titleKey:i}=e;return m(d(),{key:s,label:"".concat(t("block")," ").concat(s)},"1"===s&&m("div",{className:"Form-group"},m("label",null,t("forum_logo")),m("input",{className:"FormControl",bidi:this.values[i]}),m("p",{className:"helpText"},t("forum_logo_help"),m("code",null,' <i class="fas fa-link"></i> '," ",t("title")))),"1"!==s&&m("[",null,m("div",{className:"Form-group"},m("label",null,t("font_awesome_icon")),m("input",{className:"FormControl",bidi:this.values[a],placeholder:"fas fa-link"})),m("div",{className:"Form-group"},m("label",null,t("title")),m("input",{className:"FormControl",bidi:this.values[i],placeholder:t("title")}))))}),m("div",{className:"Form-group"},g().component({type:"submit",className:"Button Button--primary",loading:this.saving,disabled:this.saving},app.translator.trans("core.admin.settings.submit_button")))))}onsubmit(t){if(t.preventDefault(),this.saving)return;this.saving=!0;const e={};this.blocks.forEach(t=>{let{iconKey:s,titleKey:a}=t;s&&(e[s]=this.values[s]()),e[a]=this.values[a]()});const s=this.settingsStream();Object.assign(s,e),this.settingsStream(s),b()(e).then(()=>{var t,e;app.alerts.show({type:"success"},app.translator.trans("core.admin.settings.saved_message")),null==(t=(e=this.attrs).refreshSettings)||t.call(e)}).catch(()=>{}).finally(()=>{this.saving=!1,m.redraw()})}}flarum.reg.add("huseyinfiliz-modern-footer","admin/Pages/BlockTitlesPage",N);class _ extends(c()){oninit(t){super.oninit(t),this.saving=!1,this.sections=Array.from({length:6},(t,e)=>({titleKey:"modern-footer.text-".concat(e+1),urlKey:"modern-footer.link-".concat(e+1)})),this.values={};const e=app.data.settings;this.sections.forEach(t=>{this.values[t.titleKey]=p()(e[t.titleKey]||""),this.values[t.urlKey]=p()(e[t.urlKey]||"")}),this.translationPrefix="huseyinfiliz-modern-footer.admin.settings."}view(){const t=t=>app.translator.trans(this.translationPrefix+t);return m("form",{onsubmit:this.onsubmit.bind(this)},m("div",{className:"container"},this.sections.map((e,s)=>d().component({label:"".concat(t("link")," #").concat(s+1)},[m("div",{className:"LinkSection"},m("div",{className:"Form-group"},m("label",null,t("text")),m("input",{className:"FormControl",bidi:this.values[e.titleKey],placeholder:t("text")})),m("div",{className:"Form-group"},m("label",null,t("link")),m("input",{className:"FormControl",bidi:this.values[e.urlKey],placeholder:t("link")})))])),m("div",{className:"Form-group"},g().component({type:"submit",className:"Button Button--primary",loading:this.saving},app.translator.trans("core.admin.settings.submit_button")))))}onsubmit(t){if(t.preventDefault(),this.saving)return;this.saving=!0;const e={};this.sections.forEach(t=>{e[t.titleKey]=this.values[t.titleKey](),e[t.urlKey]=this.values[t.urlKey]()}),b()(e).then(()=>{app.alerts.show({type:"success"},app.translator.trans("core.admin.settings.saved_message"))}).catch(()=>{}).finally(()=>{this.saving=!1,m.redraw()})}}flarum.reg.add("huseyinfiliz-modern-footer","admin/Pages/FirstLinksPage",_);class K extends(c()){oninit(t){super.oninit(t),this.saving=!1,this.sections=Array.from({length:6},(t,e)=>({titleKey:"modern-footer.text-".concat(e+7),urlKey:"modern-footer.link-".concat(e+7)})),this.values={};const e=app.data.settings;this.sections.forEach(t=>{this.values[t.titleKey]=p()(e[t.titleKey]||""),this.values[t.urlKey]=p()(e[t.urlKey]||"")}),this.translationPrefix="huseyinfiliz-modern-footer.admin.settings."}view(){const t=t=>app.translator.trans(this.translationPrefix+t);return m("form",{onsubmit:this.onsubmit.bind(this)},m("div",{className:"container"},this.sections.map((e,s)=>d().component({label:"".concat(t("link")," #").concat(s+1)},[m("div",{className:"LinkSection"},m("div",{className:"Form-group"},m("label",null,t("text")),m("input",{className:"FormControl",bidi:this.values[e.titleKey],placeholder:t("text")})),m("div",{className:"Form-group"},m("label",null,t("link")),m("input",{className:"FormControl",bidi:this.values[e.urlKey],placeholder:t("link")})))])),m("div",{className:"Form-group"},g().component({type:"submit",className:"Button Button--primary",loading:this.saving},app.translator.trans("core.admin.settings.submit_button")))))}onsubmit(t){if(t.preventDefault(),this.saving)return;this.saving=!0;const e={};this.sections.forEach(t=>{e[t.titleKey]=this.values[t.titleKey](),e[t.urlKey]=this.values[t.urlKey]()}),b()(e).then(()=>{app.alerts.show({type:"success"},app.translator.trans("core.admin.settings.saved_message"))}).catch(()=>{}).finally(()=>{this.saving=!1,m.redraw()})}}flarum.reg.add("huseyinfiliz-modern-footer","admin/Pages/SecondLinksPage",K);class x extends(c()){oninit(t){super.oninit(t),this.saving=!1,this.sections=Array.from({length:6},(t,e)=>({titleKey:"modern-footer.text-".concat(e+13),urlKey:"modern-footer.link-".concat(e+13)})),this.values={};const e=app.data.settings;this.sections.forEach(t=>{this.values[t.titleKey]=p()(e[t.titleKey]||""),this.values[t.urlKey]=p()(e[t.urlKey]||"")}),this.translationPrefix="huseyinfiliz-modern-footer.admin.settings."}view(){const t=t=>app.translator.trans(this.translationPrefix+t);return m("form",{onsubmit:this.onsubmit.bind(this)},m("div",{className:"container"},this.sections.map((e,s)=>d().component({label:"".concat(t("link")," #").concat(s+1)},[m("div",{className:"LinkSection"},m("div",{className:"Form-group"},m("label",null,t("text")),m("input",{className:"FormControl",bidi:this.values[e.titleKey],placeholder:t("text")})),m("div",{className:"Form-group"},m("label",null,t("link")),m("input",{className:"FormControl",bidi:this.values[e.urlKey],placeholder:t("link")})))])),m("div",{className:"Form-group"},g().component({type:"submit",className:"Button Button--primary",loading:this.saving},app.translator.trans("core.admin.settings.submit_button")))))}onsubmit(t){if(t.preventDefault(),this.saving)return;this.saving=!0;const e={};this.sections.forEach(t=>{e[t.titleKey]=this.values[t.titleKey](),e[t.urlKey]=this.values[t.urlKey]()}),b()(e).then(()=>{app.alerts.show({type:"success"},app.translator.trans("core.admin.settings.saved_message"))}).catch(()=>{}).finally(()=>{this.saving=!1,m.redraw()})}}flarum.reg.add("huseyinfiliz-modern-footer","admin/Pages/ThirdLinksPage",x);class F extends(c()){oninit(t){super.oninit(t),this.saving=!1,this.sections=Array.from({length:6},(t,e)=>({titleKey:"modern-footer.text-".concat(e+19),urlKey:"modern-footer.link-".concat(e+19)})),this.values={};const e=app.data.settings;this.sections.forEach(t=>{this.values[t.titleKey]=p()(e[t.titleKey]||""),this.values[t.urlKey]=p()(e[t.urlKey]||"")}),this.translationPrefix="huseyinfiliz-modern-footer.admin.settings."}view(){const t=t=>app.translator.trans(this.translationPrefix+t);return m("form",{onsubmit:this.onsubmit.bind(this)},m("div",{className:"container"},this.sections.map((e,s)=>m(d(),{key:s,label:"".concat(t("link")," #").concat(s+1)},m("div",{className:"LinkSection"},m("div",{className:"Form-group"},m("label",null,t("text")),m("input",{className:"FormControl",bidi:this.values[e.titleKey],placeholder:t("text")})),m("div",{className:"Form-group"},m("label",null,t("link")),m("input",{className:"FormControl",bidi:this.values[e.urlKey],placeholder:t("link")}))))),m("div",{className:"Form-group"},g().component({type:"submit",className:"Button Button--primary",loading:this.saving},app.translator.trans("core.admin.settings.submit_button")))))}onsubmit(t){if(t.preventDefault(),this.saving)return;this.saving=!0;const e={};this.sections.forEach(t=>{e[t.titleKey]=this.values[t.titleKey](),e[t.urlKey]=this.values[t.urlKey]()}),b()(e).then(()=>{app.alerts.show({type:"success"},app.translator.trans("core.admin.settings.saved_message"))}).catch(()=>{}).finally(()=>{this.saving=!1,m.redraw()})}}flarum.reg.add("huseyinfiliz-modern-footer","admin/Pages/FourthLinksPage",F);class w extends(c()){oninit(t){super.oninit(t),this.saving=!1,this.fields=["modern-footer.copyright","modern-footer.html"],this.values={};const e=app.data.settings;this.fields.forEach(t=>this.values[t]=p()(e[t]||"")),this.translationPrefix="huseyinfiliz-modern-footer.admin.settings."}view(){const t=t=>app.translator.trans(this.translationPrefix+t);return m("form",{onsubmit:this.onsubmit.bind(this)},m("div",{className:"container"},d().component({label:t("custom_html")},[m("div",{className:"Form-group"},m("textarea",{className:"FormControl",rows:"10",bidi:this.values["modern-footer.html"],placeholder:t("custom_html")}))]),d().component({label:t("bottom_section")},[m("div",{className:"Form-group"},m("label",null,t("text")),m("input",{className:"FormControl",bidi:this.values["modern-footer.copyright"]}),m("p",{className:"helpText"},t("bottom_help")))]),m("div",{className:"Form-group"},g().component({type:"submit",className:"Button Button--primary",loading:this.saving},app.translator.trans("core.admin.settings.submit_button")))))}onsubmit(t){if(t.preventDefault(),this.saving)return;this.saving=!0;const e={};this.fields.forEach(t=>{e[t]=this.values[t]()}),b()(e).then(()=>{app.alerts.show({type:"success"},app.translator.trans("core.admin.settings.saved_message"))}).catch(()=>{}).finally(()=>{this.saving=!1,m.redraw()})}}flarum.reg.add("huseyinfiliz-modern-footer","admin/Pages/BottomPage",w);class P extends(c()){oninit(t){super.oninit(t),this.saving=!1,this.jsSetting=p()(app.data.settings["modern-footer.js"]||""),this.translationPrefix="huseyinfiliz-modern-footer.admin.settings."}view(){return m("form",{onsubmit:this.onsubmit.bind(this)},m("div",{className:"container"},d().component({label:(()=>app.translator.trans(this.translationPrefix+"custom_js_code"))()},[m("div",{className:"Form-group"},m("textarea",{className:"FormControl",bidi:this.jsSetting,rows:"10"}))]),m("div",{className:"Form-group"},g().component({type:"submit",className:"Button Button--primary",loading:this.saving},app.translator.trans("core.admin.settings.submit_button")))))}onsubmit(t){t.preventDefault(),this.saving||(this.saving=!0,b()({"modern-footer.js":this.jsSetting()}).then(()=>{app.alerts.show({type:"success"},app.translator.trans("core.admin.settings.saved_message"))}).catch(()=>{}).finally(()=>{this.saving=!1,m.redraw()}))}}flarum.reg.add("huseyinfiliz-modern-footer","admin/Pages/CustomJSPage",P);class S extends(r()){oninit(t){super.oninit(t),this.settings=a().data.settings,this.settingsStream=p()(this.settings)}content(){const t=m.route.param().page||"general",e=t=>a().translator.trans("huseyinfiliz-modern-footer.admin.settings."+t),s=[{key:"general",icon:"fas fa-cogs",label:e("general"),component:y},{key:"titles",icon:"fas fa-th-large",label:e("blocks"),component:N},{key:"info",icon:"fas fa-info-circle",label:e("about"),component:k},...(()=>{const t=[],s={};return["2","3","4","5"].forEach(a=>{const i="modern-footer.title-".concat(a),o="modern-footer.title-fa-".concat(a);let n=this.settingsStream()[i]||e("block")+" #".concat(a);const r=this.settingsStream()[o]||"fas fa-link";s[n]&&(n+=" #".concat(a)),s[n]=!0;const l={2:_,3:K,4:x,5:F};t.push({key:"links-".concat(a-1),icon:r,label:n,component:l[a]})}),t})(),{key:"bottom",icon:"fas fa-arrow-down",label:e("bottom"),component:w},{key:"js",icon:"fas fa-code",label:e("custom_js"),component:P}];return m("div",{className:"SettingsPage"},m("div",{className:"SettingsPage-menu"},m("ul",{className:"SettingsPage-menu-list"},s.map(e=>{let{key:s,icon:i,label:o}=e;return m("li",{key:s},m("button",{className:"SettingsPage-menu-item ".concat(t===s?"active":""),onclick:()=>{m.route.set(a().route("extension",{id:"huseyinfiliz-modern-footer",page:s}))}},m("i",{className:i})," ",o))}))),m("div",{className:"SettingsPage-content"},(()=>{const e=s.find(e=>e.key===t);return e?"titles"===e.key?m(e.component,{settingsStream:this.settingsStream}):m(e.component):m(y)})()))}refreshSettings(){a().store.find("settings").then(t=>{this.settingsStream(t),m.redraw()})}}flarum.reg.add("huseyinfiliz-modern-footer","admin/Pages/SettingsPage",S);const C=[(new(o().Admin)).page(S)];a().initializers.add("huseyinfiliz-modern-footer",()=>{})})(),module.exports=e})();
//# sourceMappingURL=admin.js.map