(()=>{var t={n:o=>{var e=o&&o.__esModule?()=>o.default:()=>o;return t.d(e,{a:e}),e},d:(o,e)=>{for(var r in e)t.o(e,r)&&!t.o(o,r)&&Object.defineProperty(o,r,{enumerable:!0,get:e[r]})},o:(t,o)=>Object.prototype.hasOwnProperty.call(t,o)};(()=>{"use strict";const o=flarum.reg.get("core","forum/app");var e=t.n(o);const r=flarum.reg.get("core","common/extend"),n=flarum.reg.get("core","common/Component");var i=t.n(n);class a extends(i()){view(){return[{icon:e().forum.attribute("modern-footer.contact"),link:e().forum.attribute("modern-footer.contact-link")},{icon:e().forum.attribute("modern-footer.contact-2"),link:e().forum.attribute("modern-footer.contact-link-2")},{icon:e().forum.attribute("modern-footer.contact-3"),link:e().forum.attribute("modern-footer.contact-link-3")},{icon:e().forum.attribute("modern-footer.contact-4"),link:e().forum.attribute("modern-footer.contact-link-4")}].filter(t=>t.icon&&t.link).map(t=>{const o=t.icon.startsWith("fa")?t.icon:"fas fa-link",e=t.link;return m("a",{href:e,target:this.isExternalLink(e)?"_blank":void 0,key:e},m("button",{class:"Button Button Social"},m("span",{class:"Button-label"},m("i",{class:o}))))})}isExternalLink(t){try{const o=new URL(t,window.location.origin);return this.normalizeHostname(window.location.hostname)!==this.normalizeHostname(o.hostname)}catch(t){return!1}}normalizeHostname(t){return t.replace(/^www\./,"")}}flarum.reg.add("huseyinfiliz-modern-footer","forum/components/SocialButtons",a);class l extends(i()){view(){var t;const o=null==(t=e().forum.attribute("modern-footer.title-1"))?void 0:t.trim(),r=e().forum.attribute("modern-footer.right-text");return m("div",{class:"foo-left"},m("div",null,o?o.startsWith("http")?m("h3",null,m("img",{src:o,alt:"Footer Logo"})):m("h3",null,m.trust(o)):null,r&&m("p",null,r),m(a,null)))}}flarum.reg.add("huseyinfiliz-modern-footer","forum/components/InfoBlock",l);class u extends(i()){view(t){const{title:o,start:e,end:r,iconClass:n}=t.attrs,i=this.generateLinks(e,r);return m("div",{class:"foo-mid"},m("div",null,m("h3",null,m("i",{class:n})," ",o),m("ul",null,i)))}generateLinks(t,o){const r=[];for(let n=t;n<=o;n++){const t=e().forum.attribute("modern-footer.link-".concat(n)),o=e().forum.attribute("modern-footer.text-".concat(n));t&&o&&r.push(m("li",{key:t},m("a",{href:t,target:this.isExternalLink(t)?"_blank":void 0},o)))}return r}isExternalLink(t){try{const o=new URL(t,window.location.origin);return this.normalizeHostname(window.location.hostname)!==this.normalizeHostname(o.hostname)}catch(t){return!1}}normalizeHostname(t){return t.replace(/^www\./,"")}}flarum.reg.add("huseyinfiliz-modern-footer","forum/components/LinksBlock",u);class s extends(i()){view(){const t=e().forum.attribute("modern-footer.html");return t&&m("div",{class:"foo-custom-html"},m.trust(t))}}flarum.reg.add("huseyinfiliz-modern-footer","forum/components/CustomHtml",s);class d extends(i()){view(){const t="1"===e().forum.attribute("modern-footer.bottom-enabled"),o=e().forum.attribute("modern-footer.copyright");return t&&m("div",{class:"foo-bottom"},m("p",null,o||""))}}flarum.reg.add("huseyinfiliz-modern-footer","forum/components/BottomBar",d);class f extends(i()){oninit(t){super.oninit(t),this.displayMode=parseInt(e().forum.attribute("modern-footer.display-mode"))}oncreate(){const t=e().forum.attribute("modern-footer.js");if(t){const o=document.createRange().createContextualFragment(t);document.body.appendChild(o)}const o=e().forum.attribute("modern-footer.mobile-tab")||"0px",r=document.createElement("style");r.innerHTML="\n      @media (max-width: 768px) {\n        #modern-footer>div {\n          margin-bottom: ".concat(o,";\n        }\n      }\n    "),document.head.appendChild(r)}view(){return this.shouldShowFooter(this.displayMode)?m("div",null,m("div",{class:"row"},"1"===e().forum.attribute("modern-footer.info-enabled")&&m(l,null),"1"===e().forum.attribute("modern-footer.links-1-enabled")&&m(u,{title:e().forum.attribute("modern-footer.title-2"),start:1,end:6,iconClass:e().forum.attribute("modern-footer.title-fa-2")}),"1"===e().forum.attribute("modern-footer.links-2-enabled")&&m(u,{title:e().forum.attribute("modern-footer.title-3"),start:7,end:12,iconClass:e().forum.attribute("modern-footer.title-fa-3")}),"1"===e().forum.attribute("modern-footer.links-3-enabled")&&m(u,{title:e().forum.attribute("modern-footer.title-4"),start:13,end:18,iconClass:e().forum.attribute("modern-footer.title-fa-4")}),"1"===e().forum.attribute("modern-footer.links-4-enabled")&&m(u,{title:e().forum.attribute("modern-footer.title-5"),start:19,end:24,iconClass:e().forum.attribute("modern-footer.title-fa-5")})),m(s,null),m(d,null)):null}shouldShowFooter(t){const o=e().current.get("routeName"),r=o?o.split(".")[0]:"";if("notifications"===o||"flags"===o||"drafts"===o)return!1;const n={0:!0,1:!1,2:"discussion"!==r,3:"index"===r,4:!0};return void 0===n[t]||n[t]}}flarum.reg.add("huseyinfiliz-modern-footer","forum/components/CustomFooter",f),e().initializers.add("huseyinfiliz-modern-footer",()=>{(0,r.extend)(e().constructor.prototype,"mount",()=>{const t=document.createElement("footer");t.id="modern-footer",m.mount(document.body.appendChild(t),f)})})})(),module.exports={}})();
//# sourceMappingURL=forum.js.map